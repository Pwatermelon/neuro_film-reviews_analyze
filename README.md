# Анализ тональности отзывов на фильмы

Проект для определения тональности отзывов на фильмы с использованием нейронных сетей и веб-интерфейса.

## Возможности

- Поиск фильмов по названию
- Автоматический сбор отзывов с популярных сайтов (IMDb)
- Анализ тональности каждого отзыва (положительный/отрицательный)
- Статистика по тональности отзывов
- Фильтрация отзывов по тональности
- Современный веб-интерфейс

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Скачайте данные NLTK (если требуется):
```python
import nltk
nltk.download('punkt')
```

3. Обучите модель:
```bash
python train_model.py
```

Это обучит модель на датасете отзывов. Процесс может занять несколько минут.

## Запуск

После обучения модели запустите веб-приложение:

```bash
python app.py
```

Откройте браузер и перейдите по адресу: http://localhost:5000

## Использование

1. Введите название фильма в поле поиска
2. Укажите количество отзывов для анализа (по умолчанию 50)
3. Нажмите "Анализировать"
4. Просмотрите статистику и отзывы с определенной тональностью
5. Используйте фильтры для просмотра только положительных или отрицательных отзывов

## Структура проекта

- `train_model.py` - скрипт для обучения модели анализа тональности
- `app.py` - Flask веб-приложение
- `review_parser.py` - парсер отзывов с различных сайтов
- `templates/index.html` - веб-интерфейс
- `model/sentiment_classifier.h5` - сохраненная модель (создается после обучения)
- `model/tokenizer.pkl` - токенизатор (создается после обучения)
- `requirements.txt` - зависимости проекта

## Технологии

- TensorFlow/Keras - для нейронной сети анализа тональности
- Flask - для веб-сервера
- BeautifulSoup4 - для парсинга веб-страниц
- Requests - для HTTP запросов
- IMDb датасет - для обучения модели

## Тестирование парсера

Для проверки работы парсера можно запустить тестовый скрипт:

```bash
python test_parser.py
```

Этот скрипт проверит поиск фильмов и получение отзывов для нескольких тестовых названий.

## Решение проблем

### Фильмы не находятся

Если фильмы не находятся на IMDb, возможные причины:

1. **Проблемы с интернет-соединением** - проверьте подключение к интернету
2. **Блокировка IMDb** - некоторые регионы могут блокировать доступ к IMDb
3. **Изменение структуры сайта** - IMDb может изменить HTML структуру

**Решение:** В этом случае система автоматически использует синтетические отзывы для демонстрации работы. Синтетические отзывы создаются на основе названия фильма и содержат как положительные, так и отрицательные отзывы.

### Улучшение поиска фильмов

Для более надежного поиска можно:

1. Использовать точное название фильма на английском языке
2. Попробовать альтернативные названия
3. Использовать год выпуска в названии (например, "The Matrix 1999")

## Примечания

- Для парсинга отзывов с реальных сайтов может потребоваться использование Selenium для динамического контента
- В демонстрационных целях используются синтетические отзывы, если реальные недоступны
- Модель обучается на датасете IMDb отзывов или синтетических данных
- Парсер использует несколько методов поиска для повышения надежности
